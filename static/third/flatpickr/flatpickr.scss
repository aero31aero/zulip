/*
    flatpickr.scss

    This file contains night-mode theme for flatpickr. We leverage the flatpickr
    project's work to generate themes cleanly. However, since they use stylus as
    their CSS langauge, our systems aren't directly compatible.

    We build this file by running:

    $ git clone git@github.com:aero31aero/flatpickr.git
    $ cd flatpickr
    $ git checkout zulip
    $ npm install
    $ npm run build
    $ # This file has been generated at dist/themes/zulip-dark.scss.
    $ cp dist/themes/zulip-dark.scss ../zulip/static/third/flatpickr/flatpickr.scss

    This is somewhat convoluted and we should decide on a better strategy, or just
    roll our own theme, but this method allows us to stay up-to-date with upstream.

    Theme built for flatpickr version: 4.6.4
*/

@mixin night {
    .flatpickr-calendar {
        background-color: hsla(0, 0%, 0%, 0);
        border-color: hsl(0, 0%, 0%);
        background-color: hsl(212, 28%, 18%);
        box-shadow: 1px 0 0 #20222c, -1px 0 0 #20222c, 0 1px 0 #20222c, 0 -1px 0 #20222c, 0 3px 13px rgba(0,0,0,0.08);
    }
    .flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1) {
        box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;
    }
    .flatpickr-calendar .hasWeeks .dayContainer,
    .flatpickr-calendar .hasTime .dayContainer {
        border-bottom-color: hsl(0, 0%, 0%);
    }
    .flatpickr-calendar .hasWeeks .dayContainer {
        border-left-color: hsl(0, 0%, 0%);
    }
    .flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {
        border-top-color: hsl(230, 16%, 15%);
    }
    .flatpickr-calendar:before,
    .flatpickr-calendar:after {
        border-color: hsla(0, 0%, 0%, 0);
    }
    .flatpickr-calendar.arrowTop:before {
        border-bottom-color: #20222c;
    }
    .flatpickr-calendar.arrowTop:after {
        border-bottom-color: #212d3b;
    }
    .flatpickr-calendar.arrowBottom:before {
        border-top-color: #20222c;
    }
    .flatpickr-calendar.arrowBottom:after {
        border-top-color: #212d3b;
    }
    .flatpickr-calendar:focus {
        outline-color: hsl(0, 0%, 0%);
    }
    .flatpickr-months .flatpickr-month {
        background-color: hsl(212, 28%, 18%);
        color: #dddeee;
    }
    .flatpickr-months .flatpickr-prev-month,
    .flatpickr-months .flatpickr-next-month {
        color: #dddeee;
    }
    .flatpickr-months .flatpickr-prev-month:hover,
    .flatpickr-months .flatpickr-next-month:hover {
        color: #dedfed;
    }
    .numInputWrapper span {
        border-color: hsla(0, 0%, 100%, 0.15);
    }
    .numInputWrapper span:hover {
        background-color: hsla(0, 0%, 82%, 0.1);
    }
    .numInputWrapper span:active {
        background-color: hsla(0, 0%, 82%, 0.2);
    }
    .numInputWrapper span.arrowUp {
        border-bottom-color: hsl(0, 0%, 0%);
    }
    .numInputWrapper span.arrowUp:after {
        border-left-color: hsla(0, 0%, 0%, 0);
        border-right-color: hsla(0, 0%, 0%, 0);
        border-bottom-color: hsla(0, 0%, 100%, 0.6);
    }
    .numInputWrapper span.arrowDown:after {
        border-left-color: hsla(0, 0%, 0%, 0);
        border-right-color: hsla(0, 0%, 0%, 0);
        border-top-color: hsla(0, 0%, 100%, 0.6);
    }
    .numInputWrapper:hover {
        background-color: hsla(0, 0%, 82%, 0.05);
    }
    .flatpickr-current-month span.cur-month:hover {
        background-color: hsla(0, 0%, 82%, 0.05);
    }
    .flatpickr-current-month .numInputWrapper span.arrowUp:after {
        border-bottom-color: #dddeee;
    }
    .flatpickr-current-month .numInputWrapper span.arrowDown:after {
        border-top-color: #dddeee;
    }
    .flatpickr-current-month input.cur-year {
        background-color: hsla(0, 0%, 0%, 0);
        border-color: hsl(0, 0%, 0%);
    }
    .flatpickr-current-month input.cur-year:focus {
        outline-color: hsl(0, 0%, 0%);
    }
    .flatpickr-current-month input.cur-year[disabled],
    .flatpickr-current-month input.cur-year[disabled]:hover {
        color: rgba(221,222,238,0.5);
        background-color: hsla(0, 0%, 0%, 0);
    }
    .flatpickr-current-month .flatpickr-monthDropdown-months {
        background-color: hsl(212, 28%, 18%);
    }
    .flatpickr-current-month .flatpickr-monthDropdown-months:hover {
        background-color: hsla(0, 0%, 82%, 0.05);
    }
    .flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month {
        background-color: #212d3b;
    }
    .flatpickr-weekdays {
        background-color: hsla(0, 0%, 0%, 0);
    }
    span.flatpickr-weekday {
        background-color: hsl(212, 28%, 18%);
        color: #dddeee;
    }
    .flatpickr-days:focus {
        outline-color: hsl(0, 0%, 0%);
    }
    .dayContainer {
        outline-color: hsl(0, 0%, 0%);
    }
    .dayContainer + .dayContainer {
        box-shadow: -1px 0 0 #20222c;
    }
    .flatpickr-day {
        border-color: hsla(0, 0%, 0%, 0);
        color: rgba(255,255,255,0.95);
    }
    .flatpickr-day.inRange,
    .flatpickr-day.prevMonthDay.inRange,
    .flatpickr-day.nextMonthDay.inRange,
    .flatpickr-day.today.inRange,
    .flatpickr-day.prevMonthDay.today.inRange,
    .flatpickr-day.nextMonthDay.today.inRange,
    .flatpickr-day:hover,
    .flatpickr-day.prevMonthDay:hover,
    .flatpickr-day.nextMonthDay:hover,
    .flatpickr-day:focus,
    .flatpickr-day.prevMonthDay:focus,
    .flatpickr-day.nextMonthDay:focus {
        outline-color: hsl(0, 0%, 0%);
        background-color: hsl(213, 28%, 39%);
        border-color: #47607e;
    }
    .flatpickr-day.today {
        border-color: #dedfed;
    }
    .flatpickr-day.today:hover,
    .flatpickr-day.today:focus {
        border-color: #dedfed;
        background-color: hsl(236, 29%, 90%);
        color: #121d26;
    }
    .flatpickr-day.selected,
    .flatpickr-day.startRange,
    .flatpickr-day.endRange,
    .flatpickr-day.selected.inRange,
    .flatpickr-day.startRange.inRange,
    .flatpickr-day.endRange.inRange,
    .flatpickr-day.selected:focus,
    .flatpickr-day.startRange:focus,
    .flatpickr-day.endRange:focus,
    .flatpickr-day.selected:hover,
    .flatpickr-day.startRange:hover,
    .flatpickr-day.endRange:hover,
    .flatpickr-day.selected.prevMonthDay,
    .flatpickr-day.startRange.prevMonthDay,
    .flatpickr-day.endRange.prevMonthDay,
    .flatpickr-day.selected.nextMonthDay,
    .flatpickr-day.startRange.nextMonthDay,
    .flatpickr-day.endRange.nextMonthDay {
        background-color: hsla(0, 0%, 0%, 0.5);
        color: #fff;
        border-color: rgba(0,0,0,0.5);
    }
    .flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),
    .flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),
    .flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {
        box-shadow: -10px 0 0 rgba(0,0,0,0.5);
    }
    .flatpickr-day.inRange {
        box-shadow: -5px 0 0 #47607e, 5px 0 0 #47607e;
    }
    .flatpickr-day.flatpickr-disabled,
    .flatpickr-day.flatpickr-disabled:hover,
    .flatpickr-day.prevMonthDay,
    .flatpickr-day.nextMonthDay,
    .flatpickr-day.notAllowed,
    .flatpickr-day.notAllowed.prevMonthDay,
    .flatpickr-day.notAllowed.nextMonthDay {
        color: rgba(255,255,255,0.3);
        background-color: hsla(0, 0%, 0%, 0);
        border-color: transparent;
    }
    .flatpickr-day.flatpickr-disabled,
    .flatpickr-day.flatpickr-disabled:hover {
        color: rgba(255,255,255,0.1);
    }
    .flatpickr-day.week.selected {
        box-shadow: -5px 0 0 rgba(0,0,0,0.5), 5px 0 0 rgba(0,0,0,0.5);
    }
    .flatpickr-weekwrapper .flatpickr-weeks {
        box-shadow: 1px 0 0 #20222c;
    }
    .flatpickr-weekwrapper span.flatpickr-day,
    .flatpickr-weekwrapper span.flatpickr-day:hover {
        color: rgba(255,255,255,0.3);
        background-color: hsla(0, 0%, 0%, 0);
    }
    .flatpickr-time {
        outline-color: hsl(0, 0%, 0%);
    }
    .flatpickr-time .numInputWrapper span.arrowUp:after {
        border-bottom-color: rgba(255,255,255,0.95);
    }
    .flatpickr-time .numInputWrapper span.arrowDown:after {
        border-top-color: rgba(255,255,255,0.95);
    }
    .flatpickr-time input {
        background-color: hsla(0, 0%, 0%, 0);
        border-color: hsl(0, 0%, 0%);
        color: rgba(255,255,255,0.95);
    }
    .flatpickr-time input:focus {
        outline-color: hsl(0, 0%, 0%);
        border-color: hsl(0, 0%, 0%);
    }
    .flatpickr-time .flatpickr-time-separator,
    .flatpickr-time .flatpickr-am-pm {
        color: rgba(255,255,255,0.95);
    }
    .flatpickr-time .flatpickr-am-pm {
        outline-color: hsl(0, 0%, 0%);
    }
    .flatpickr-time input:hover,
    .flatpickr-time .flatpickr-am-pm:hover,
    .flatpickr-time input:focus,
    .flatpickr-time .flatpickr-am-pm:focus {
        background-color: hsl(214, 28%, 42%);
    }
    .flatpickr-calendar {
        box-shadow: 0px 0px 30px #0c1118;
    }
}
